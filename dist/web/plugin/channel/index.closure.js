!function(){"use strict";function e(e,t,n){if(t&&(e.plugin_name=t),n&&e.init){var i=e.init;e.init=function(t,a){function r(){i.call(e,t,a)}return t.readyState&&t.readyState.state>=3||!t.on?r():void t.on(n,r)}}return e}function t(t,n,i){return e(t,n,i),t.plugin_version=s,t}var n,i,a,r,s="1.24.14",l={event_list:[],latest_event_initial_time:null,max_save_time:2592e6,init:function(e,t){function s(){return n=i._,a=i.store,!!n.localStorage.isSupport()&&(i.para.max_string_length=1024,l.eventList.init(),l.addLatestChannelUrl(),void l.addIsChannelCallbackEvent())}if(i||!e)return!1;t=t||{},r=t.cookie_name||"sensorsdata2015jssdkchannel",i=e;var l=this;s()},addIsChannelCallbackEvent:function(){i.registerPage({$is_channel_callback_event:function(e){if(n.isObject(e)&&e.event&&"$WebClick"!==e.event&&"$pageview"!==e.event&&"$WebStay"!==e.event&&"$SignUp"!==e.event)return!l.eventList.hasEvent(e.event)&&(l.eventList.add(e.event),!0)}})},addLatestChannelUrl:function(){var e=this.getUrlDomain(),t=this.cookie.getChannel();if("url\u89e3\u6790\u5931\u8d25"===e)this.registerAndSave({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"url\u7684domain\u89e3\u6790\u5931\u8d25"});else if(n.isReferralTraffic(document.referrer)){var a=n.getQueryParam(location.href,"sat_cf");n.isString(a)&&a.length>0?(this.registerAndSave({_sa_channel_landing_url:location.href}),l.channelLinkHandler()):this.registerAndSave({_sa_channel_landing_url:""})}else t?i.registerPage(t):i.registerPage({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"\u53d6\u503c\u5f02\u5e38"})},registerAndSave:function(e){i.registerPage(e),this.cookie.saveChannel(e)},cookie:{getChannel:function(){var e=i.kit.userDecryptIfNeeded(n.cookie.get(r));return e=n.safeJSONParse(e),!(!n.isObject(e)||!e.prop)&&e.prop},saveChannel:function(e){var t={prop:e},a=JSON.stringify(t);i.para.encrypt_cookie&&(a=i.kit.userEncrypt(a)),n.cookie.set(r,a)}},channelLinkHandler:function(){this.eventList.reset(),i.track("$ChannelLinkReaching")},getUrlDomain:function(){var e=n.info.pageProp.url_domain;return""===e&&(e="url\u89e3\u6790\u5931\u8d25"),e},eventList:{init:function(){var e=this.get(),t=(new Date).getTime();if(e&&n.isNumber(e.latest_event_initial_time)&&n.isArray(e.eventList)){var i=t-e.latest_event_initial_time;i>0&&i<l.max_save_time?(l.event_list=e.eventList,l.latest_event_initial_time=e.latest_event_initial_time):this.reset()}else this.reset()},get:function(){var e={};try{e=a.readObjectVal("sawebjssdkchannel")}catch(t){i.log(t)}return e},add:function(e){l.event_list.push(e),this.save()},save:function(){var e={latest_event_initial_time:l.latest_event_initial_time,eventList:l.event_list};a.saveObjectVal("sawebjssdkchannel",e)},reset:function(){l.event_list=[],l.latest_event_initial_time=(new Date).getTime(),this.save()},hasEvent:function(e){var t=!1;return n.each(l.event_list,function(n){n===e&&(t=!0)}),t}}},_=t(l,"SensorsChannel","sdkAfterInitAPI");return _}();