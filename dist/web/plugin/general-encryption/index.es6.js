var sd,_,sdkversion_placeholder="1.24.14";function wrapPluginInitFn(n,e,i){if(e&&(n.plugin_name=e),i&&n.init){var t=n.init;n.init=function(e,r){if(e.readyState&&e.readyState.state>=3||!e.on)return a();function a(){t.call(n,e,r)}e.on(i,a)}}return n}function createPlugin(n,e,i){return wrapPluginInitFn(n,e,i),n.plugin_version=sdkversion_placeholder,n}var GeneralEncryption={init:function(n,e){_=(sd=n)._;var i=e&&e.encrypt_utils,t=window.console&&window.console.log||function(){};t=sd&&sd.log||t;var r=sd.kit.encodeTrackData;sd&&sd.kit&&r?_.isObject(i)&&_.isFunction(i.encryptEvent)&&_.isFunction(i.encryptSymmetricKeyWithPublicKey)&&_.isString(e.pub_key)&&_.isNumber(e.pkv)?(sd.kit.encodeTrackData=function(n){try{var a=i.encryptEvent,c=i.encryptSymmetricKeyWithPublicKey,o=e.pkv,l=e.pub_key;if(_.isFunction(i.encryptEvent)){var d=a(n),s=sd._.base64Encode(d),u={pkv:o,ekey:c(l),payloads:[s]},p=JSON.stringify(u);return"data="+encodeURIComponent(p)}return r.call(sd.kit,n)}catch(y){return t("Encrypted data exception."),r.call(sd.kit,n)}},t("GeneralEncryption Plugin initialized successfully.")):t("GeneralEncryption Plugin initialization failed. parameter error."):t("Web SDK initialization failed.")}},index=createPlugin(GeneralEncryption,"GeneralEncryption","sdkReady");export default index;